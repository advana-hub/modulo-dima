<style>
.twocolumn {
   display: grid;
   grid-template-columns: 1fr 1fr;
   grid-gap: 10px;
   text-align: left;
}
</style>

## Lezione #9 

_20/05/2021_

- Operations research
- Recap modulo
- Info esame

---

<section data-auto-animate>
<h3>OPERATIONS RESEARCH</h3>
</section>
<section data-auto-animate>
<h3><font color='orange'>OPERATIONS</font> RESEARCH</h3>

> si focalizza sulla risoluzione di complessi problemi di <font color='orange'>decision-making</font> in <font color='orange'>applicazioni pratiche</font> 
</section>
<section data-auto-animate>
<h3>OPERATIONS <font color='lime'>RESEARCH</font></h3>

> tramite la <font color='lime'>ricerca</font> del massimo (profitto, perfomance, ...) o minimo (costo, rischio, ...) di una <font color='lime'>funzione obiettivo</font> soggetta a dei <font color='lime'>vincoli</font>
</section>

---

### Applicazioni

<small>
<div class="twocolumn">
<div>
<em><b>Ambito</b></em><br><br>
‚è±Ô∏è scheduling and time-management<br>
üåΩ resource allocation<br>
üéØ facility location<br>
üï∏Ô∏è network problem<br>
üó∫Ô∏è transportation and routing problems<br>
üì¶ inventory and supply chain management<br>
üî® cutting and packing problems<br>
üí∞ risk and price optimization<br>
...
</div>

<div>
<em><b>Problemi in letteratura</b></em><br><br>
<small>Job-shop problem (JSP), Nurse scheduling problem (NSP)</small><br>
<small>Assignment problem (AP)</small><br>
<small>Facility location problem (FLP)</small><br>
<small>Shortest Path problem (SPP), Minimum-cost flow problem (MCFP)</small><br>
<small>Transportation problem (TP), Traveling salesman problem (TSP), Vehicle routing problem (VRP)</small><br>
<br>
<small>Knapsack problem (KP), Bin packing problem (BPP), Set cover problem (SCP)</small><br>
<br>
</div>
</div>
</small>

---

### Problemi OR

<small>lo schema sotto viene detto **[programma](https://en.wikipedia.org/wiki/Mathematical_optimization#History)** <small>di conseguenza un termine spesso utilizzato √® <em>[mathematical programming](https://www.informs.org/Explore/History-of-O.R.-Excellence/O.R.-Methodologies/Optimization-Mathematical-Programming)</em>, intesa come<br> "stesura di un programma per la gestione di risorse" pi√π che come "programmazione software"</small></small>

> determinare il _massimo_ o _minimo_ 

> di una <font color='lime'>funzione obiettivo</font> espressa rispetto ad alcune <font color='lime'>variabili decisionali</font>

> soggetta ai <font color='lime'>vincoli</font><br>
> vincolo 1, vincolo 2, ...

--

<small>in formule</small>

<div class="twocolumn">
<div><em>minimizzare<sub><small>1</small></sub> la funzione obiettivo della variabile</em> x</div>
<div>$\min\limits_{x\in X}f(x)$</div>
<div><em>soggetta ai vincoli</em></div>
<div>
s.t.<br>

- $g_1(x)\leq 0$
- $g_2(x) = 0$
- ...
</div>
</div>

<small><sup>1</sup><em>possiamo sempre ridurci a problemi di minimizzazione<br> sfruttando $\max(f) = -\min(-f)$</em></small>

--

data le applicazioni pratiche della OR, si √® quasi sempre interessati ai _punto di minimo_ della funzione obiettivo ‚ûú si deve sempre essere in grado di determinare ed esibire almeno uno dei punti (se esistono)

arg$\min\limits_{x\in X}f(x)$

---

### Risoluzione

- alcuni tra i classici problemi OR sono **[NP-hard](https://en.wikipedia.org/wiki/NP_(complexity))**
- si fa quindi spesso ricorso a **euristiche** e **metaeuristiche**
- per alcuni problemi esistono anche **metodi esatti** efficienti, ad esempio:
   - _metodo del simplesso_ (per problemi lineari)
   - _branch-and-bound_ e _branch-and-cut_ (per problemi con variabili intere, [approfondimento](http://www.dei.unipd.it/~salvagni/didattica/mip.pdf))

---

### Tassonomia OR

<small>la funzione obiettivo ed i vincoli [possono essere](https://glossary.informs.org/ver2/mpgwiki/index.php?title=Extra:Mathematical_programming)</small>

singoli, multipli, lineari, parametrici, convessi, concavi, quadratici, a valori reali, a valori interi, deterministici, stocastici, ...

--

<small>abbiamo quindi varie [sotto-discipline specifiche](https://www.informs.org/Explore/History-of-O.R.-Excellence/O.R.-Methodologies/Optimization-Mathematical-Programming)</small>

#### linear programming (LP)

> tutte le funzioni coinvolte sono lineari nelle variabili decisionali

-- 

#### integer programming (IP)

> tutte le variabili ed i parametri assumono solo valori interi

<small>‚ö†Ô∏è spesso si usa <em>IP</em> intendendo <em>ILP</em></small>
<small>üí° disciplina molto affine all'ottimizzazione <em>discreta</em> e <em>combinatoria</em></small>

-- 

#### mixed-integer programming (MIP)

> alcune tra le variabili decisionali assumono solo valori interi

<small>‚ö†Ô∏è spesso si usa <em>MIP</em> intendendo <em>MILP</em></small>

--

### e molte altre

> dynamic programming, stochastic programming, nonlinear programming, quadratic programming, multi-objective programming, ...

---

### Glossario OR

- $x\in X$ si dice _feasible_ se soddisfa tutti i vincoli del problema
- $x^*\in X$ si dice _optimal_ se √® feasible ed √® tra gli argmin di $f$
- un problema $\mathcal{P}$ si dice _feasible_ se $\\{x\in X | x \text{ feasible}\\}\neq\emptyset$, _unfeasible_ altrimenti
- un problema di minimo (risp. massimo) $\mathcal{P}$ si dice _unbounded_ se √® feasible ma $f$ non √® inferiormente (risp. superiormente) limitata

---

### Framework Python

<small><small>esistono molte librerie Python per implementare problemi e sottometterli a [_solver_ open-source o commerciali](https://en.wikipedia.org/wiki/List_of_optimization_software) o risolverli direttamente - ciascuna implementa un differente _paradigma_ che risulta pi√π o meno flessibile a seconda delle necessit√†</small></small>

<small>

- [SciPy Optimization](https://docs.scipy.org/doc/scipy/reference/tutorial/optimize.html) ‚ûú pacchetto di SciPy dedicato all'ottimizzazione matematica (con focus su variabili continue)
- [PuLP](https://coin-or.github.io/pulp/index.html) ‚ûú libreria per linear ed integer programming
- [Pyomo](https://pyomo.readthedocs.io/en/stable/index.html) ‚ûú libreria per implementare e risolvere svariate classi di problemi di ottimizzazione
- [Google's OR-Tools](https://developers.google.com/optimization) ‚ûú libreria flessibile con focus su alcune specifiche classi di problemi (routing, flows, integers)
- [CVXPY](https://www.cvxpy.org/) ‚ûú libreria per ottimizzazione convessa costruita come estensione di NumPy 
- ...

</small>

---

#### Tips & Approfondimenti

<small>

- prima di implementare un problema OR √® _buona abitudine_ scrivere la sua formulazione teorica (con carta e penna, o su Jupyter notebook tramite il supporto a $\LaTeX$ ), ed usarla come traccia e riferimento
- a volte √® necessario _linearizzare_ il problema prima di poterlo implementare ‚ûú **teoria della linearizzazione** (riferimenti nel notebook)
- se i vincoli di un problema lo rendono unfeasible, si pu√≤ provare a _rilassarli_, per esempio tramite utilizzo di [variabili slack](https://en.wikipedia.org/wiki/Slack_variable)
- un ottimo [tutorial introduttivo](http://benalexkeen.com/linear-programming-with-python-and-pulp/) basato su PuLP

</small>

---

### Hands-on: bin packing

- definizione
- contesto
- esercizio sintetico Jupyter
- modellazione su MiMocko